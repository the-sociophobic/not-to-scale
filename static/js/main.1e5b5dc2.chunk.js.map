{"version":3,"sources":["img/logo.svg","img/logo-small.svg","utils/store/storeClass.js","utils/store/StoreContext.js","components/Input.js","utils/countable.js","pages/Spekt.js","components/withRouterAndRef.js","pages/Admin.js","utils/encodeParams.js","components/ExternalLink.js","components/Header.js","components/Footer.js","components/Canvas.js","utils/isTouchDevice.js","App.js","utils/store/index.js","serviceWorker.js","index.js"],"names":["module","exports","store","props","getSessionInfo","a","axios","get","DBlink","data","login","ticket","onSuccess","post","res","console","log","token","secondUser","setInterval","audioURL","logout","this","defaults","headers","withCredentials","StoreContext","React","createContext","Input","focus","inputFieldRef","current","blur","onKeyDown","e","value","number","match","onChange","replace","onFocus","onBlur","render","className","errorMessage","ref","type","password","placeholder","required","event","target","disabled","label","createRef","Component","word","Array","isArray","Spekt","componentDidMount","context","setState","authorised","state","userId","texts","left","pressButton","buttonStatus","audio","Audio","addEventListener","setTimeout","buttonDisabled","buttonText","message","oneSecond","play","initializeRestartInterval","window","open","restart","currentTime","restartCountDown","restartInterval","clearInterval","initializePlayInterval","playInterval","countable","Math","floor","duration","minutesDuration","secondsDuration","tillEnd","minutes","seconds","minutesTillEnd","secondsTillEnd","renderLogin","error","onClick","length","renderSpekt","comment","contextType","withRouter","WrappedComponent","InnerComponentWithRef","forwardRef","rest","ComponentWithRouter","withRef","Admin","loadData","fetch","json","deleteData","index","JSON","id","stringify","addData","params","Object","entries","map","key","encodeURIComponent","join","loggedIn","file","undefined","onFileLoaded","fileInfo","used","format","Date","href","to","newTab","rel","children","Header","ExternalLink","src","logoImg","logoSmallImg","resizeObserver","ResizeObserver","resize","observe","canvasRef","ctx","getCtx","canvas","width","clientWidth","height","clientHeight","getContext","setPos","pos","x","clientX","y","clientY","setPosTouch","touch","changedTouches","pageX","pageY","draw","buttons","beginPath","lineWidth","lineCap","strokeStyle","moveTo","lineTo","stroke","drawTouch","pressed","document","createEvent","isTouchDevice","App","stateRefs","Provider","exact","path","storeClass","Boolean","location","hostname","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.1e5b5dc2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.2e5601ef.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo-small.babf93f8.svg\";","import axios from 'axios'\n\n\nexport default class store {\n  constructor(props) {\n    this.props = props\n\n    axios.defaults.headers.post['Accept'] = \"*/*\"\n    axios.defaults.headers.post['Content-Type'] = \"json\"\n    axios.defaults.withCredentials = true\n  }\n\n  getSessionInfo = async () =>\n    (await axios.get(this.props.DBlink)).data\n\n  login = async (ticket, onSuccess) => {   \n    const res = (await axios.post(\n      this.props.DBlink + '/login',\n      { ticket: ticket },\n    )).data\n\n    console.log(res)\n\n    if (res.token === \"real\")\n      if (res.secondUser === \"real\")\n        onSuccess && onSuccess()\n      else\n        setInterval(async () => {\n          const res = (await axios.post(\n            this.props.DBlink,\n            { ticket: ticket },\n          )).data\n      \n          if (res.secondUser === \"real\")\n            onSuccess && onSuccess()\n        }, 2000)\n    \n    return res\n  }\n\n  audioURL = () => this.props.DBlink + '/stream'\n\n  logout = async () =>\n    await axios\n      .get(this.props.DBlink + '/logout')\n}","import React from 'react'\n\nconst StoreContext = React.createContext(\"new store()\")\nexport default StoreContext","import React, { Component } from 'react'\n\n\nexport default class Input extends Component {\n  constructor(props) {\n    super(props)\n    this.inputFieldRef = props.inputFieldRef || React.createRef()\n  }\n\n  focus = () => this.inputFieldRef.current && this.inputFieldRef.current.focus()\n  blur = () => this.inputFieldRef.current && this.inputFieldRef.current.blur()\n\n  onKeyDown = e => {\n    const value = \"\" + this.props.value\n    \n    if (this.props.number)\n      if (this.props.value && value.match(/[^0-9]/g))\n        this.props.onChange(value.replace(/[^0-9]/g, ''))\n    this.props.onKeyDown && this.props.onKeyDown(e)\n  }\n  onFocus = e => {\n    this.props.onFocus && this.props.onFocus(e)\n  }\n  onBlur = e => {\n    this.props.onBlur && this.props.onBlur(e)\n  }\n\n  render = () => (\n    <div\n      className={\"form-group \" +\n        this.props.className + \" \" +\n        (this.props.errorMessage && \"form-group--error\")\n      }\n    >\n      <input\n        ref={this.inputFieldRef}\n        type={this.props.password ? \"password\" : \"text\"}\n        className={`form-group__input ${this.props.className}`}\n        placeholder={this.props.placeholder}\n        required={this.props.required}\n        value={this.props.value}\n        onChange={event => this.props.onChange(event.target.value)}\n        onFocus={this.onFocus}\n        onBlur={this.onBlur}\n        onKeyDown={this.onKeyDown}\n        disabled={this.props.disabled}\n      />\n      {this.props.label &&\n        <label className=\"form-group__label\">\n          {this.props.label}\n        </label>}\n    </div>\n  )\n}\n","export default (number, word) => {\n  let countableWord\n\n  if (Array.isArray(word)) {\n    if ((number > 10 && number < 20) || number % 10 > 4 || number % 10 === 0)\n      countableWord = word[2]\n    else if (number % 10 > 1)\n      countableWord = word[1]\n    else\n      countableWord = word[0]\n  }\n  \n  else if (number === 1)\n    countableWord = word\n  else countableWord = word + \"s\"\n\n  return number + \" \" + countableWord\n}\n","import React, { Component } from 'react'\n\nimport { StoreContext } from 'utils/store'\nimport withRouter from 'components/withRouterAndRef'\nimport Input from 'components/Input'\n\nimport countable from 'utils/countable'\n\n\nconst oneSecond = 1000\n\nclass Spekt extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      ticket: \"\",\n\n      /*\n        real\n\n        fake\n        outdated\n        many-devices\n\n        none\n        pending\n      */\n      authorised: \"pending\",\n      userId: \"\",\n\n      /*\n        authorised\n        pending\n      */\n      secondUser: \"pending\",\n\n      /*\n        never-pressed\n        buffering\n        can-start\n        can-restart\n        in-process\n        buy-another-ticket\n      */\n      buttonStatus: \"never-pressed\",\n\n      message: \"\",\n      buttonText: \"PLAY\",\n    }\n  }\n\n  componentDidMount = () =>\n    this.getSessionInfo()\n\n  getSessionInfo = async () => {\n    console.log(\"res\")\n    const res = await this.context.store.getSessionInfo()\n    console.log(res)\n\n    this.setState({\n      authorised: res.token,\n      secondUser: res.secondUser,\n      ticket: res.ticket || \"\",\n    })\n  }\n\n  login = async () => {\n    this.setState({\n      authorised: \"pending\",\n      secondUser: \"pending\"\n    })\n    \n    const res = await this.context.store\n      .login(\n        this.state.ticket,\n        () => this.setState({secondUser: \"real\"})\n      )\n\n    if (res.userId)\n      this.setState({\n        authorised: \"real\",\n        ticket: res.ticket,\n        texts: res.texts,\n        left: res.left,\n      })\n    else\n      this.setState({authorised: res.token})\n  }\n\n\n  pressButton = () => {\n    const { buttonStatus } = this.state\n\n    switch(buttonStatus) {\n      case \"never-pressed\":\n        this.audio = new Audio(this.context.store.audioURL())\n        this.audio.addEventListener('ended', () => setTimeout(() => {\n          this.setState({\n            buttonDisabled: false,\n            buttonText: \"купить билет\",\n            message: \"Спасибо за просмотр! Хотите посмотреть ещё, купите билет\"\n          })\n          this.context.store.logout()\n        }, oneSecond * 5))\n\n        this.setState({\n          buttonStatus: \"buffering\",\n          message: \"Буферизация...\",\n          buttonDisabled: true,\n        })\n        return\n      case \"can-play\":\n        this.audio.play()\n        this.initializeRestartInterval()\n        return\n      case \"buy-another-ticket\":\n        const win = window.open(\"https://tochkadostupa.spb.ru/events/not_to_scale\", '_blank')\n        win.focus()\n    }\n  }\n\n  restart = () => {\n    this.audio.currentTime = 0\n    this.audio.play()\n    this.initializeRestartInterval()\n  }\n\n  initializeRestartInterval = () => {\n    this.setState({\n      buttonStatus: \"can-restart\",\n      message: \"Приятного прослушивания. В течение 30 секунд вы можете перезапустить прослушивание\",\n      restartCountDown: 30,\n      buttonText: \"Перезапустить\"\n    })\n\n    if (this.restartInterval)\n      clearInterval(this.restartInterval)\n\n    this.restartInterval = setInterval(() => {\n      if (this.state.restartCountDown > 1) {\n        this.setState({\n          message: `Приятного прослушивания. В течение ${this.state.restartCountDown - 1} секунд вы можете перезапустить прослушивание`,\n          restartCountDown: this.state.restartCountDown - 1,    \n        })\n        console.log(this.state.restartCountDown)\n      } else {\n        this.initializePlayInterval()\n        clearInterval(this.restartInterval)\n        this.restartInterval = null\n      }\n    }, oneSecond)\n  }\n\n  initializePlayInterval = () => {\n    if (this.playInterval)\n      return\n\n    this.setState({\n      buttonStatus: \"in-process\",\n      message: \"До окончания спектакля N минут N секунд\",\n      buttonText: `${countable(Math.floor((this.audio.duration - this.audio.currentTime) / 60))} ${(this.audio.duration - this.audio.currentTime) % 60}`,\n      buttonDisabled: true,\n    })\n\n    // this.audio.play()\n\n    const minutesDuration = Math.floor(this.audio.duration / 60)\n    const secondsDuration = this.audio.duration % 60\n\n    this.playInterval = setInterval(() => {\n      const tillEnd = this.audio.duration - this.audio.currentTime\n      const minutes = Math.floor(this.audio.currentTime / 60)\n      const seconds = this.audio.currentTime % 60\n      const minutesTillEnd = Math.floor(tillEnd / 60)\n      const secondsTillEnd = tillEnd % 60\n\n      this.setState({\n        buttonStatus: \"in-process\",\n        buttonText: `${minutes}:${seconds} / ${minutesDuration}:${secondsDuration}`,\n        message: `До конца спектакля ${countable(minutesTillEnd, [\"минута\", \"минуты\", \"минут\"])} ${countable(secondsTillEnd, [\"секунда\", \"секунды\", \"секунд\"])}`,\n        buttonDisabled: true,\n      })\n    }, oneSecond)\n  }\n\n\n  renderLogin = () => {\n    const error = this.state.authorised && this.state.authorised.match(/outdated|many-devices|fake/gm)\n    let buttonText\n    \n    switch(this.state.authorised) {\n      case \"outdated\":\n        buttonText = \"Билет с таким номером уже использован\"\n        break\n      case \"many-devices\":\n        buttonText = \"Билет используется на более чем 3х устройствах\"\n        break\n      case \"fake\":\n        buttonText = \"Билета с таким номером не существует\"\n        break\n      default:\n        buttonText = \"Начать\"\n    }\n\n    return (\n      <div className=\"spekt__login\">\n        <div className=\"spekt__login__desc\">\n          <b>Not to scale</b> — это спектакль Энта Хэмптона и Тима Этчелса. Вам понадобятся наушники, карандаш, ластик, и лист бумаги. И второй человек. Введите номер вашего билета, нажмите кнопку «начать» и следуйте инструкциям.\n        </div>\n        <Input\n          className={error && \"form-group__input--danger\"}\n          placeholder=\"Введите номер вашего билета\"\n          value={this.state.ticket}\n          onChange={value => this.setState({ticket: value, authorised: \"\"})}\n        />\n        <button\n          className={`button button--main ${error && \"button--main--danger\"}`}\n          onClick={() => this.login()}\n          disabled={!this.state.ticket || this.state.ticket.length < 5}\n        >\n          {buttonText}\n        </button>\n      </div>\n    )\n  }\n\n  renderSpekt = () =>\n    <div className=\"container\">\n      <div className=\"spekt__spekt\">\n\n        <div className=\"spekt__spekt__instructions\">\n          1. Нажмите кнопку «начать» одновременно со вторым пользователем.\n          <br />\n          2. После нажатия начнётся обратный отсчёт, вам нужно нажать второй раз на play максимально одновременно\n          <br />\n          3. Обратите внимание, что посмотреть спектакль повторно по одному билету у вас не получится\n        </div>\n\n        <div className=\"spekt__spekt__player\">\n          <div\n            className=\"spekt__spekt__player__button\"\n            onClick={() => this.pressButton}\n            disabled={this.state.buttonDisabled}\n          />\n          <div className=\"spekt__spekt__player__text\">\n            \n          </div>\n          <div className=\"spekt__spekt__player__comment\">\n            {this.state.buttonStatus === \"can-restart\" &&\n              <button\n                className=\"spekt__spekt__player__comment__restart\"\n                onClick={() => this.restart()}\n              >\n                перезапустить\n              </button>}\n            <div className=\"spekt__spekt__player__comment__text\">\n              {this.state.comment}\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </div>\n\n  render = () =>\n    <div className=\"container\">\n      <div className=\"spekt\">\n        {/* <Loader disappear={this.state.authorised !== \"pending\"} /> */}\n        {this.state.authorised === \"real\" ?\n          this.state.secondUser === \"pending\" ?\n            <div className=\"spekt__login__pending\">\n              Нарисуйте что-нибудь,<br />пока мы ждем второго<br />пользователя\n            </div>\n            :\n            this.renderSpekt()\n          :\n          this.renderLogin()\n        }\n      </div>\n    </div>\n}\n\nSpekt.contextType = StoreContext\n\nexport default withRouter(Spekt)","import React, { Component } from 'react'\nimport { withRouter } from 'react-router'\n\n\nexport default WrappedComponent => {\n  class InnerComponentWithRef extends Component { \n    render() {\n      const { forwardRef, ...rest } = this.props\n      \n      return (\n        <WrappedComponent\n          {...rest}\n          ref={forwardRef}\n        />\n      )\n    }\n  }\n\n  const ComponentWithRouter = withRouter(InnerComponentWithRef, { withRef: true })\n\n  return React.forwardRef((props, ref) =>\n    <ComponentWithRouter\n      {...props}\n      forwardRef={ref}\n    />\n  )\n}","import React from 'react'\nimport { format } from 'date-fns'\nimport CSVReader from 'react-csv-reader'\nimport fetch from 'isomorphic-unfetch'\n\nimport Input from 'components/Input'\nimport { StoreContext } from 'utils/store'\nimport encodeParams from 'utils/encodeParams'\n\n\nclass Admin extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      data: [],\n      password: \"\",\n      loggedIn: true,\n      file: undefined,\n    }\n  }\n\n  loadData = async () => {\n    this.setState({\n      data: await (await fetch(\"http://localhost:3000/api/nottoscaleticket?limit=5000\")).json()\n    })\n    // console.log(await (await fetch(\"http://localhost:3000/api/nottoscaleticket?limit=5000\")).json())\n  }\n\n  deleteData = async () => {\n    await this.loadData()\n\n    const { data } = this.state\n\n    for (let index in data)\n      console.log(`destroyed ${\n        JSON.stringify(\n          await (\n            await fetch(\n              \"http://localhost:3000/api/nottoscaleticket/destroy/\" + data[index].id\n            )\n          ).json())}`)      \n  }\n\n  addData = async data => {\n    await this.deleteData()\n\n    for (let index in data)\n      console.log(await (await fetch(\n        \"http://localhost:3000/api/nottoscaleticket/create?\" +\n        encodeParams({\n          number: data[index][0],\n        }))).json())\n      \n    await this.loadData()\n  }\n\n  componentDidMount = () =>\n    this.loadData()\n\n  render() {\n    const { password, loggedIn, data } = this.state\n\n    return !loggedIn ?\n      <div className=\"ZoomTicket\">\n        <div className=\"container\">\n          <Input\n            value={password}\n            onChange={value => this.setState({\n              password: value,\n              loggedIn: value === \"aNg2R4V5\",\n            })}\n            placeholder=\"пароль\"\n          />\n        </div>\n      </div>\n    :\n      <div className=\"ZoomTicket\">\n        <div className=\"container\">\n          загрузка .CSV файла (все данные будут перезаписаны)\n          <CSVReader\n            onFileLoaded={(data, fileInfo) => this.addData(data)}\n          />\n        </div>\n        <div className=\"container\">\n          <div className=\"ZoomTicket__tickets\">\n            <h4 className=\"h4\">Текущие билеты:</h4>\n            {data.map((ticket, index) =>\n              <div\n                key={ticket.id}\n                className=\"ZoomTicket__tickets__item\"\n              >\n                <div className=\"ZoomTicket__tickets__item__index\">\n                  {index + 1}.\n                </div>\n                <div className=\"ZoomTicket__tickets__item__ticketNumber\">\n                  {ticket.number}\n                </div>\n                <div className=\"ZoomTicket__tickets__item__zoomURL\">\n                  {ticket.used ? format(new Date(ticket.used * 1000), 'dd/mm/yyyy') : \"не активирован\"}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n  }\n}\n\nAdmin.contextType = StoreContext\n\nexport default Admin","export default params => \n  Object.entries(params)\n    .map(key => key.map(encodeURIComponent).join(\"=\"))\n      .join(\"&\")\n","import React from 'react'\n\n\nexport default props =>\n  <a\n    className={props.className}\n    href={props.to}\n    target={props.newTab ? \"_blank\" : \"\"}\n    rel=\"noopener noreferrer\"\n  >\n    {props.children}\n  </a>","import React from 'react'\n\nimport ExternalLink from 'components/ExternalLink'\n\n\n class Header extends React.Component {\n  state = {}\n\n  render = () =>\n    <div className=\"header\">\n      <div className=\"container\">\n        <b>Not to scale</b>\n      </div>\n    </div>\n}\n\nexport default Header","import React, { Component } from 'react'\n\nimport ExternalLink from 'components/ExternalLink'\nimport logoImg from 'img/logo.svg'\nimport logoSmallImg from 'img/logo-small.svg'\n\n\nexport default class Header extends Component {\n  state = {}\n\n  render = () =>\n    <div className=\"footer\">\n      <div className=\"container\">\n        <div className=\"footer__logo\">\n          <ExternalLink newTab to=\"https://tochkadostupa.spb.ru\">\n            <img className=\"desktop-only\" src={logoImg} />\n            <img className=\"mobile-only\" src={logoSmallImg} />\n          </ExternalLink>\n        </div>\n        <div className=\"footer__links\">\n          <ExternalLink newTab to=\"https://tochkadostupa.spb.ru/events/not_to_scale\">\n            о проекте\n          </ExternalLink>\n        </div>\n      </div>\n    </div>\n}\n","import React, { Component } from 'react'\nimport ResizeObserver from 'resize-observer-polyfill'\n\nimport isTouchDevice from 'utils/isTouchDevice'\n\n\nexport default class Header extends Component {\n  constructor(props) {\n    super(props)\n\n    this.pos = {\n      x: undefined,\n      y: undefined,\n    }\n    this.pressed = false\n\n    this.canvasRef = React.createRef()\n\n    if (isTouchDevice()) {\n      document.addEventListener('touchmove', e => this.drawTouch(e))\n      document.addEventListener('touchstart', e => { this.pressed = true; this.setPosTouch(e) })\n      document.addEventListener('touchend', e => { this.pressed = false; this.setPosTouch(e) })\n    } else {\n      document.addEventListener('mousemove', e => this.draw(e))\n      document.addEventListener('mousedown', e => this.setPos(e))\n      document.addEventListener('mouseenter', e => this.setPos(e))\n    }\n  }\n\n  componentDidMount = () => {\n    this.resizeObserver = new ResizeObserver(() => this.resize())\n      .observe(this.canvasRef.current)\n    \n    this.resize()\n  }\n\n  resize = () => {\n    const ctx = this.getCtx()\n\n    if (ctx) {\n      ctx.canvas.width = this.canvasRef.current.clientWidth\n      ctx.canvas.height = this.canvasRef.current.clientHeight\n    }\n  }\n\n  getCtx = () => \n    this.canvasRef.current &&\n      this.canvasRef.current.getContext('2d')\n\n  setPos = e =>\n    this.pos = {\n      x: e.clientX,\n      y: e.clientY\n    }\n\n  setPosTouch = e => {\n    const touch = e.changedTouches && e.changedTouches[0]\n\n    if (touch)\n      this.pos = {\n        x: touch.pageX,\n        y: touch.pageY\n      }\n  }\n\n  draw = e => {\n    const ctx = this.getCtx()\n\n    if (!ctx || typeof this.pos.x === \"undefined\" || e.buttons !== 1)\n      return\n\n    ctx.beginPath()\n    ctx.lineWidth = 2.5\n    ctx.lineCap = 'round'\n    ctx.strokeStyle = '#ee0200'\n\n    ctx.moveTo(this.pos.x, this.pos.y)\n    this.setPos(e)\n    ctx.lineTo(this.pos.x, this.pos.y)\n\n    ctx.stroke()\n  }\n\n  drawTouch = e => {\n    const ctx = this.getCtx()\n\n    if (!ctx || typeof this.pos.x === \"undefined\" || !this.pressed)\n      return\n\n    ctx.beginPath()\n    ctx.lineWidth = 2.5\n    ctx.lineCap = 'round'\n    ctx.strokeStyle = '#ee0200'\n\n    ctx.moveTo(this.pos.x, this.pos.y)\n    this.setPosTouch(e)\n    ctx.lineTo(this.pos.x, this.pos.y)\n\n    ctx.stroke()\n  }\n    \n\n  render = () =>\n    <div className=\"canvas\">\n      <canvas ref={this.canvasRef} />\n    </div>\n}\n","export default () => {\n  try {\n    document.createEvent(\"TouchEvent\")\n    return true\n  } catch (e) {\n    return false\n  }\n}","import React, { Component } from 'react'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\"\n\nimport { StoreContext, initialState } from 'utils/store'\nimport Spekt from 'pages/Spekt'\nimport Admin from 'pages/Admin'\nimport Header from 'components/Header'\nimport Footer from 'components/Footer'\nimport Canvas from 'components/Canvas'\n\nimport './styles/index.sass'\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = initialState({\n      state: this.state,\n      setState: this.setState,\n    })\n  }\n\n  render = () =>\n    <Router>\n      <StoreContext.Provider value={this.state}>\n        <Canvas />\n        <div className=\"App\">\n          {this.state.authorised && !this.state.authorised.match(/none|outdated|many-devices|fake/gm) &&\n            <Header />}\n\n          <div className=\"content\">\n            <Switch>\n              <Route exact path=\"/not-to-scale/\">\n                <Spekt />\n              </Route>\n              <Route path=\"/not-to-scale/admin\">\n                <Admin />\n              </Route>\n            </Switch>\n          </div>\n\n          <Footer />\n        </div>\n      </StoreContext.Provider>\n    </Router>\n}\n\nexport default App\n","import storeClass from './storeClass'\nimport StoreContext from './StoreContext'\n\n\nconst initialState = stateRefs => ({\n  store: new storeClass({\n    stateRefs: stateRefs,\n    // DBlink: \"https://schedule.tochkadostupa.spb.ru/not-to-scale/api/\",\n    DBlink: \"http://localhost:3000/not-to-scale/api\",\n  }),\n})\n\nexport {\n  storeClass,\n  StoreContext,\n  initialState,\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}